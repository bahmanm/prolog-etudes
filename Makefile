SHELL := /usr/bin/env bash
.DEFAULT_GOAL := test

####################################################################################################

root.dir := $(dir $(abspath $(lastword $(MAKEFILE_LIST))))

####################################################################################################

.PHONY : bmakelib/bmakelib.mk
include  bmakelib/bmakelib.mk

####################################################################################################

etudes := chapter3
etudes.makefiles := $(etudes:%=$(root.dir)%/Makefile)

.PHONY : $(etudes.makefiles)
include  $(etudes.makefiles)

####################################################################################################

$(build.dir) :
	mkdir -p $(@)

####################################################################################################

.PHONY : clean

clean :
	-rm -rf $(build.dir)

####################################################################################################

test : $(etudes:%=%.test)
